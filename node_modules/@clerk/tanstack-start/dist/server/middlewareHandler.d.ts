import { AnyRouter } from '@tanstack/react-router';
import { EventHandler } from 'vinxi/http';
import { LoaderOptions } from './types.js';
import '@clerk/backend';
import '@clerk/types';

type HandlerCallback<TRouter extends AnyRouter> = (ctx: {
    request: Request;
    router: TRouter;
    responseHeaders: Headers;
}) => Response | Promise<Response>;
type CustomizeStartHandler<TRouter extends AnyRouter> = (cb: HandlerCallback<TRouter>) => EventHandler;
declare function createClerkHandler<TRouter extends AnyRouter>(eventHandler: CustomizeStartHandler<TRouter>, clerkOptions?: LoaderOptions): (cb: HandlerCallback<TRouter>) => EventHandler;

export { type CustomizeStartHandler, type HandlerCallback, createClerkHandler };

import { useNavigate, useLocation } from '@tanstack/react-router';
import React, { useTransition } from 'react';

// src/client/useAwaitableNavigate.ts
var useAwaitableNavigate = () => {
  const navigate = useNavigate();
  const location = useLocation();
  const resolveFunctionsRef = React.useRef([]);
  const resolveAll = () => {
    resolveFunctionsRef.current.forEach((resolve) => resolve());
    resolveFunctionsRef.current.splice(0, resolveFunctionsRef.current.length);
  };
  const [_, startTransition] = useTransition();
  React.useEffect(() => {
    resolveAll();
  }, [location]);
  return (options) => {
    return new Promise((res) => {
      startTransition(() => {
        resolveFunctionsRef.current.push(res);
        res(navigate(options));
      });
    });
  };
};

export { useAwaitableNavigate };
//# sourceMappingURL=useAwaitableNavigate.js.map
//# sourceMappingURL=useAwaitableNavigate.js.map
{"version":3,"file":"index.cjs","sources":["../../src/index.ts"],"sourcesContent":["import { serverFnFetcher } from '@tanstack/start-server-functions-fetcher'\nimport type { CreateRpcFn } from '@tanstack/server-functions-plugin'\n\nfunction sanitizeBase(base: string) {\n  return base.replace(/^\\/|\\/$/g, '')\n}\n\nexport const createClientRpc: CreateRpcFn = (functionId, serverBase) => {\n  const url = `/${sanitizeBase(serverBase)}/${functionId}`\n\n  const clientFn = (...args: Array<any>) => {\n    return serverFnFetcher(url, args, fetch)\n  }\n\n  return Object.assign(clientFn, {\n    url,\n    functionId,\n  })\n}\n"],"names":["serverFnFetcher"],"mappings":";;;AAGA,SAAS,aAAa,MAAc;AAC3B,SAAA,KAAK,QAAQ,YAAY,EAAE;AACpC;AAEa,MAAA,kBAA+B,CAAC,YAAY,eAAe;AACtE,QAAM,MAAM,IAAI,aAAa,UAAU,CAAC,IAAI,UAAU;AAEhD,QAAA,WAAW,IAAI,SAAqB;AACjC,WAAAA,4CAAgB,KAAK,MAAM,KAAK;AAAA,EACzC;AAEO,SAAA,OAAO,OAAO,UAAU;AAAA,IAC7B;AAAA,IACA;AAAA,EAAA,CACD;AACH;;"}
{"version":3,"file":"index.js","sources":["../../src/index.ts"],"sourcesContent":["import invariant from 'tiny-invariant'\nimport type { CreateRpcFn } from '@tanstack/server-functions-plugin'\n\nfunction sanitizeBase(base: string) {\n  return base.replace(/^\\/|\\/$/g, '')\n}\n\nexport const createServerRpc: CreateRpcFn = (\n  functionId,\n  serverBase,\n  splitImportFn,\n) => {\n  invariant(\n    splitImportFn,\n    'ðŸš¨splitImportFn required for the server functions server runtime, but was not provided.',\n  )\n\n  const url = `/${sanitizeBase(serverBase)}/${functionId}`\n\n  return Object.assign(splitImportFn, {\n    url,\n    functionId,\n  })\n}\n"],"names":[],"mappings":";AAGA,SAAS,aAAa,MAAc;AAC3B,SAAA,KAAK,QAAQ,YAAY,EAAE;AACpC;AAEO,MAAM,kBAA+B,CAC1C,YACA,YACA,kBACG;AACH;AAAA,IACE;AAAA,IACA;AAAA,EACF;AAEA,QAAM,MAAM,IAAI,aAAa,UAAU,CAAC,IAAI,UAAU;AAE/C,SAAA,OAAO,OAAO,eAAe;AAAA,IAClC;AAAA,IACA;AAAA,EAAA,CACD;AACH;"}